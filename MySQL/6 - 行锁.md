





在一个事务里面，分为加锁（lock）阶段和解锁（unlock）阶段，这被称为俩阶段锁。

行锁是在需要的时候才加上的，例如执行到更新ID=1记录的SQL语句时才进行加锁，但并不是不需要了就立即释放，而是要等到事务结束时才释放。









俩阶段锁是为了保证事务的隔离性，即多个事务在并发的情况下等同于串行的执行。




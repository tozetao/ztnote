



fastcgi_split_path_info命令说明
===============================
# fastcgi_split_path_info用于location上下文中，该命令定义捕获$fastcgi_path_info变量值的正则表达式
# 正则表达式匹应该要有俩个捕获(子表达式)，第一个捕获是$fastcgi_script_name变量的值，第二个捕获是$fasccgi_path_info变脸的值

# example：PATH_INFO配置

fastcgi_split_path_info ^(.+?\.php)(/.*)$;
set $path_info $fastcgi_path_info;
fastcgi_param PATH_INFO       $path_info;
try_files $fastcgi_script_name =404;

fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;



http://www.baidu.com/blog/index.php/User/add

SCRIPT_FILENAME：www/blog/index.php，www是网站根目录
SCRIPT_NAME：blog/index.php
PATH_INFO：User/add












PATH_INFO配置方案2
==================
#由于nginx内建只读变量$fastcgi_script_name无法赋值，所有通过设置$real_script_name变量来做中间值
location ~ \.php {
fastcgi_pass   127.0.0.1:9000;
fastcgi_index  index.php;
#先加载默认后解析赋值
include        fastcgi_params;
#正则解析路径
set $path_info "";
set $real_script_name $fastcgi_script_name;
if ($fastcgi_script_name ~ "^(.+?\.php)(/.+)$") {
set $real_script_name $1;
set $path_info $2;
}
fastcgi_param PATH_INFO       $path_info;
fastcgi_param SCRIPT_FILENAME $document_root$real_script_name;
fastcgi_param SCRIPT_NAME     $real_script_name;
}

https://blog.hackroad.com/operations-engineer/linux_server/1453.html
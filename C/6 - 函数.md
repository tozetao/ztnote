## 函数

C语言的函数由函数名、函数体、形参和返回类型组成

- 形参

  形式上的参数，辅助函数定义用的，形参可以定义多个也可以不定义；形式参数的值需要程序传递实际参数进去。

- 返回类型

  定义函数执行完后返回的数据类型，如果定义成void，表示不返回任何数据。

- 函数是有类型的

  函数返回值的数据类型决定了函数的类型

定义一个函数：

```c
int absolute(int n)
{
    //body
}
```


### 函数的原型

返回类型、函数名和形参构成了函数的原型，函数的原型即是函数的声明。

```c
void new_line(void);
//声明一个函数
```

只有分配存储空间的变量声明才叫做变量定义，函数也是一样的，只有带函数体的声明才叫做函数的定义，如果只是声明了一个函数，编译器是不会生成对应的程序指令的。

编译器通过函数原型来确定函数名、返回类型和形参，这样在碰到一个函数的时候才知道如何生成对应的指令，所以函数原型必须出现在函数调用之前，这样符合先声明后使用的原则。



### 函数的执行
```c
int max(int a, int b)
{
	return a>b ? a : b;
}

int main()
{
	int a = 5, b = 10; 
	return max(a, b);
}
```
函数的执行过程：
- 在执行main()函数时，系统会开辟一块内存空间加载main()函数代码并执行
- 碰到max()函数时，会保存main()函数当前的执行地址，同时开辟一块内存空间加载max()函数来执行
- 执行完毕会销毁max()函数占用的内存空间，回到之前保存的执行地址，继续往下执行main()函数






### 变量的作用域
在C语言中，变量分为局部变量和全局变量
- 局部变量

  定义在函数体内和代码块内的变量，它只作用于所定义的代码块范围内。

- 全局变量

  定义在所有的函数体之外，全局变量会在程序开始运行时分配存储空间，在程序结束时释放存储空间，

  全局变量能够被文件中所有函数使用。

  ```c
  #include <stdio.h>
  int hour = 10, minute = 59;

  int main(void)
  {
      printf("hour: %d", hour);
      return 0;
  }
  ```

  注：当全局变量与局部变量同名时，局部变量将在自己的作用域内生效，它将屏蔽同名的全局变量。



数组做函数参数：

```c
#include <iostream>
using namespace std;

void change(int a[]){
    a[1] = 30;
    a[2] = 50;
}

int main(){
    int a[2] = {3, 5};
    change(a);
    cout << a[0] << "; " << a[1] << endl;
    return 0;
}
```
数组名是一个常量，它是数组在内存中的地址，
在将一个数组名作为函数参数传递时，copy的是数组的内存地址，因此在函数内部操作时，会影响到外部的数组。




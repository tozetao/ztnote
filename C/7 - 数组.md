## 数组
数组也是一种复合类型，它是由一系列相同类型的元素组成。与结构体类似，数组的存储空间也是相连的。

- 定义数组

  ```c
  int numbers[];
  ```


- 访问数组

  数组是通过下标来访问的，下标是从0开始的；下标允许是表达式，但是表达式的值必须是整型的。

  ```c
  printf("%d", numbers[0]);	//打印第一个元素
  ```

- 初始化

  ```c
  int numbers[4] = {1, 2 ,3 ,4};	//指定数组长度的初始化

  int ages[] = {1,2,3};			//不指定数组长度的初始化

  int numbers[4] = {1,2};			//对于未赋值的元素，默认初始化为0，这点与结构体是一样的
  ```



### 数组赋值

数组类型不允许相互赋值或初始化

```c
int a[5] = {1,2,3};
int b[5] = a;		//error

a = b; 	//error
```



由于不能相互赋值，所以不能用数组类型作为函数的参数或返回值。

```c
void foo(int a[5])
{
    //body
}

int array[5] = {0};
foo(array);
```

上面的代码虽然编译器不会报错，但并不是传递一个数组类型参数的意思。

数组类型被当做右值使用，是自动转换成指向数组首元素的指针，所以上面的代码是传递一个指针类型的参数。这也解释了为什么数组类型不能相互赋值，因为数组被转换成指针类型后，进行赋值的变量仍然是数组类型，这就发生错误了。



### 多维数组

数组是可以嵌套的，一个数组元素包含另外一个数组就构成了多维数组。

定义一个二维数组：

```c
int a[3][2] = {1, 2, 3, 4, 5};

int a[][2]  = {{1,2}, {3, 4}, {5}};
```

从模型上看这是一个3行2列的数组，但是这6个元素在内存中是连续存储的，相当于把多个一维数组串连起来了。

注：第一位的长度可以由编辑器自动计算，但是其他唯必须指定元素长度。



### 字符串

字符串可以看作是一个char类型的数组，每个字符串最后一个字符是"\0"，对应ASCII码为null的字符，代表着该字符串的结束。

- 初始化

  ```c
  char str[] = "hello";	//通过字符串字面值初始化字符数组
  char str[] = {'h', 'e', 'l', 'l', 'o', '\n'};	//没有指定的元素为0，即null字符
  ```

字符串字面值可以像数组一样的使用，例如：

```c
char c =  "hello"[0];
```
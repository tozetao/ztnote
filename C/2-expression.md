## 表达式
表达式指如何计算值的公式，最简单的表达式是变量和常量。

## 运算符
运算符用于计算，它是构建表达式的基本工具。

### 算数运算符
- 加: +
- 减: -
- 乘: *
- 除: /
- 求余: %
加减乘除取余都是二元运算符，其中加号减号能够作为一元运算符，表示数值类型的变量是整数还是负数。

使用除法和取余时，要注意:
- 俩个整数做除法时，结果会向下取整，会丢失小数部分，例如1/2=0不是0.5
- 除法和取余的右操作数必须非0，否则会导致未定义的行为
- 除法和取余作用于负数的时候，结果是根据版本实现决定，在c99中，负数的除法结果总是向0取整，取余的值的正负与左操作数相同，c89则会有不同的实现；

```php
int main(){
	int result = -9 % 5;	//-4
	int result = 9 % -5;	//4
	return 0;
}
```

### 运算符优先级
- 最高优先级: + -(一元运算符)，* / %(二元运算符)
- 最低优先级: + -(二元运算符)
```php
i + j*k = i + (j*k)

-i * -j = (-i) * (-j)

+i + j/k = (+i) + (j/k)
```

当表达式包含俩个或俩个更多个优先级的运算符时，仅有运算符优先级规则是不够用的，这时运算符的结合性开始发挥作用。
- 左结合: 运算符是从左到右的，那么这种运算符是左结合的，二元运算符都是左结合的
- 右结合: 如果运算符是从右到左的，那么这种运算符是右结合的，一元运算符都是右结合，例如: -+i = -(+i)

注：赋值运算符也是右结合的。

### 自增与自减
- ++: 自增，表示操作数加1
- --: 自减，表示操作数减1

自增运算符作用于操作数的前后是会造成不同结果的，如果自增运算符作为前缀，表示立刻执行自增或自减，如果自增运算符作为后缀，表示先用该操作数，稍后再自增或自减，例如：
```php
int i = 1;
printf("i is %d\n", --i);	//0
printf("i is %d\n", i);		//0

i = 1;
printf("i is %d\n", i--);	//1
printf("i is %d\n", i);		//0

```
注：后缀++与后缀--比一元的正号、负号优先级高，而且是左结合的；前缀++与前缀--与一元的正号、负号优先级相同，而且是右结合的。

### 子表达式的求值顺序
C语言没有定义子表达式的求值顺序，大多数表达式不管子表达式的计算顺序如何，大多数表达式都有相同的值。

有的时候表达式的值也可能依赖于子表达式的求值顺序，例如在子表达式中改变了某个操作数的值，产生的值可能就不一致了，例如：
```php
a = 5;
c = (b = a+2) - (a = 1)

# 如果先计算(b=a+2)，c等于6
# 如果先计算(a=1)，那么c等于2
```
未定义的行为：undefined behavior，类似于上述表达式会产生一个未定义的行为，这种行为造成的错误后果是不可预料的，要尽可能避免它。

### 关系运算符
- 大于：>
- 小于：<
- 大于等于或小于等于：>=、<=
- 等于：==

在C语言中，关系运算符在表达式中产生的结果是0或者1，关系运算符可用比较整数和浮点数，也允许比较混合类型的操作数。

关系运算符的优先级低于算数运算符，例如：
```php
i+j < k-1 = (i+j) < (k-1) 
# 表达式 i+j < k-1意思是 (i+j) < (k-1)，关系运算符都是左结合的。
```


### 判等运算符
- 等于： == 
- 不等于：！=

跟关系运算符一样，判等运算符也是产生0或1作为结果，并且也是左结合的。判等运算符的优先级低于关系运算符，例如：
```php
i>j == j>k
# 该表达式等价于
(i>j) == (j>k)
```

### 逻辑运算符
- 逻辑与：&&
- 逻辑或：||
- 逻辑非：!

逻辑运算符所产生的结果是0或1，逻辑运算符将任何非0值作为true来处理，将任何0值操作数作为false处理。

运算符&&和预算副||进行短路计算，这些运算符先计算左边操作数的值，然后计算右操作数。
- 逻辑与：所有子表达式的值都是非0值，那么该结果是1，否则为0
- 逻辑或：从左往右计算每个子表达式，只要有一个子表达式结果是非0值，那么结果是1，否则为0


### 优先级总结
算数运算符 > 关系运算符 > 判等运算符 > 逻辑运算符
### 表达式
由运算符、操作数和括号组成的计算式。
例如：a*b+c; 7+10>1; a=b，在c语言中，a=b这种赋值语句也是表达式。

- 要注意的是表达式始终是有一个值的，包括赋值语句。
```c
int main()
{
	int i=0;
	cout << (i=10) << endl;
	return 0;
}
```
- 在=赋值运算符前面加上算数运算符号，这种是符合赋值运算。
- 连续的赋值运算，它的运算顺序是从右向左的，例如a = b = c = 5，计算顺序是c、b、a

### 赋值运算符
基本功能是给赋值号左边的变量赋值，例如：
```c
int i = 5;
//其实是俩条语句，声明int i，再给i赋值
```

在对一个变量赋值时，俩边的数据类型不一致，赋值时就会进行隐式的类型转换，右边操作数的类型将会转换为左边变量的类型。

example：
```c
int main(){
	int i = 3.123456;
	char c = i;
	float f = c;
	bool booo_i = f;;
	cout << showpoint << i << " " << c << " " << f << " " << bool_i << endl;
	return 0;    
}
```

- 长数赋值给短数时，长数多出的高位将会被剔除掉，剩余的位数赋值给短位。
```c
int main()
{
	long int long_i = 0x2AAAAAAA;
	cout << long_i << endl;

	short short_i = long_i;
	cout << hex << short_i << endl;	//aaaa
	cout << dec << short_i << endl;	//-21846
	return 0;
}
//长数高位被剔除后，程序将解析剩余的位数，因为short是有符号的短整型，解析1010 1010 1010 1010结果是-21846
```
- 短数赋值给长数，值将保持不变
```c
short s = -1;
long l = s;		//-1

//如果短数是无符号数，会将短数的位数放到长数的位数，同时长数的高位补0
//如果短数时有符号数，会将短数的位数赋值给长数的位数，同时短数的最高位为0，长数的高位全部补0，若短数的最高位是1，那么长数的高位全部补1
```

- 符号位处理，有符号数和无符号数之间相互转换的话，位数将直接赋值。例如一个有符号位的负数赋值到一个无符号位的数字时，最高位的符号位将会变成数字位，转换过程后数值会变大。
```c
unsigend short s = -1;
cout << s << endls;		//2^16+(-1)
```

### 表达式的类型转换
不仅仅在赋值时如果俩边数据类型不同将会发生类型转换，在表达式中如果类型不同也会发生类型转换，规则如下：

首先是横向的转换：
- char/short -> int：在一个表达式中如果有char型或short型的操作数，都会将其转换成int型再参与运算。
- float -> double：表达式如果有一个float型，都会将其转成double型，再参与运算

然后是纵向的转换：
- int -> unsigned -> long -> double
- int -> unsigned：如果一个int型的操作数与一个unsigned型的操作数进行运算，会将int转成unsigned，再进行运算，结果也是unsigned
- unsigned -> unsigned long：如果一个unsigned与一个unsigned long int型进行计算时，会将unsigned转换成unsigned long int型
- int -> long -> double：右边箭头的数据类型比左边箭头的数据类型级别高，左边的数据类型将会转成右边的数据类型。

```c
int i = -5;
unsigned k = 10;

cout << k+i << endl;
//该表达式在运行是，会先将i转换成unsigned int，然后再参与运算。
```
总结：在表达式中不要混用有符号型和无符号型。

### 算术运算符
算术运算符即包括加、减、乘、除和取模5种运算。

注意：
- 取模：即求余运算，它的操作数必须是整数
- 整数运算，它的结果始终都是整数；例如5/3=1
- 实数运算，它的结果始终是double型；由于是double型，所以结果是有精度的，舍入的精度是随着编译器的不同而不同的。

算数运算符的优先级：
- 算数运算符的优先级是先乘除，后加减，模运算的优先级跟乘除相同。


### 自增与自减
自增与自减分别会使变量的值加1或减1.
- ++i，--i：在使用变量前，将i先加1
- i++，i--：在使用变量后，再将i加1

注：自增/自减运算符只能用于变量，不能用于表达式，例如：(-i)++是错误的

example:
```c
int i = 3;
cout << ++i;	//4 i=4
cout << i++;	//4 i=5

int i = 3;
cout << -i++ << endl;	//-3 i=4
cout << -++i << endl;
//1元运算符+-号与自增运算符是同一个运算级别的，对于同级的运算符来说要遵守右结合规则，也就是从右边开始计算表达式。


a + b + --i + j++
```

在vc++中，对于一条输出语句，如果该语句中有多个表达式，程序在计算时会优先计算右边的表达式，再计算左边的表达式，在输出时则会从左到右输出。
```c
int a=0, b=0, c=2, d=0, e=2, f=2;

cout << a << " " << a++ << " " << endl;		//1 0
cout << ++b << " " << b++ << " " << endl;	//2 0
cout << c << " " << (c++) + (++c) << end;	//4 6
cout << (e=f++) + (e=f) << endl;
//在vc++中，多个子表达式是从左到右运算，所以输出4，f=3，f++在整个表达式计算完毕后才计算的。
```


### 关系运算符
C语言提供了6种关系运算符，包括：>，>=，<，<=，==，!=，关系运算符表达式的结果只有俩个，0和1，分别对应true和false。

注1：==和!=的优先级小于其他关系运算符。

当表达式有多种运算符时，算数运算符的优先级大于关系运算符，关系运算符的优先级大于赋值运算符，例如：
```c
1 + 2 % 3 * 4 > 5/6-7
//先执行算数表达式，得出结果后再执行关系表达式

x = 1 + 2 % 3 * 4 > 5 / 6 - 7 == 8
//先执行算数表达式，然后执行关系表达式，最后将关系表达式的结果赋值给x

1>2 == 3<4
//先执行等号俩边的表达式，再进行比较。
```

### 逻辑运算符
C语言有3种逻辑运算符，
- 逻辑与：&&，若A、B为真，则F = A && B为真
- 逻辑或：||，若A、B之一为真，则F = A || B为真
- 逻辑非：！

逻辑运算符表达式的值分为0和非0值，0代表false，非0值代表true，例如：
- 若a=4，则!a的值为0
- 若a=4，b=5，则a&&b的值为1
- 若a=4，b=5，则!a||b的值为1
- 表达式4&&0||2的值为1

逻辑运算符的优先级：!(非) > &&(与) > 或(||)，即！的运算符优先级最高。

逻辑运算符的短路特性：
逻辑与&&的所有子表达式都会执行，逻辑或只有有1个子表达式满足条件，后续子表达式是不会执行的，例如：
```c
int i = a && b && c
//只有a为true，才会判断b的值，a和b为true，才会判断c的值。

int j = a || b || c
//a为真，b和c不会计算，只有a为false，才会判断b，a和b都为false，才会判断c
```

### 逗号运算符
用逗号把多个表达式连起来，例如：
- 表达式1，表达式2，表达式n
该表达式会依次执行，整个表达式的值等于表达式n的值

example:
```c
a = 3*5, a*4;
//先求3*5表达式，然后求出a的值，再执行a*4表达式，整个表达式的值是60，a是15
```


### 混合运算符的优先级
多种混合运算符之间的优先级：
逻辑非(!) > 算数运算符 > 关系运算符 > 逻辑与和逻辑或 > 赋值运算符 > 逗号运算符

在分析一个表达式的执行顺序时，按照以下规则：
1. 按照不同类型的运算符的优先级来执行
2. 相同类型的运算符根据它们之间的优先级来执行

注1：自增自减运算符和算术运算符再一起时，要遵循右结合规则，即从右到左进行计算，例如：cout << -++i

example：
```c
i+j < k-1 = (i+j) < (k-1) 
//根据优先级，先计算算数运算符的表达式，再根据计算的结果执行关系运算符的表达式

i>j == j>k
//该表达式等价于(i>j) == (j>k)

a = 8 > 4 - (b=!'c') && 5 > 3 + 'a' % 6 == 'b';
// 赋值运算符优先级最低，
// 先计算8 > 4 - (b=!'c')子表达式，如果为1，再计算5 > 3 + 'a' % 6 == 'b'子表达式
// 
```

### 子表达式的计算顺序
C语言没有定义子表达式的求值顺序，大多数表达式不管子表达式的计算顺序如何，大多数表达式都有相同的值。

有的时候表达式的值也可能依赖于子表达式的求值顺序，例如在子表达式中改变了某个操作数的值，产生的值可能就不一致了，例如：
```php
a = 5;
c = (b = a+2) - (a = 1)

# 如果先计算(b=a+2)，c等于6
# 如果先计算(a=1)，那么c等于2
```
未定义的行为：undefined behavior，类似于上述表达式会产生一个未定义的行为，这种行为造成的错误后果是不可预料的，要尽可能避免它。

C++会有区别





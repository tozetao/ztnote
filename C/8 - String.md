## 字符串字面量

string literal，字符串字面量是一种用双引号括起来的字符序列。

C语言在解析一个长度为n的字符串字面量时，会分配一个长度为n+1的内存空间，用于存储字符串字面量的字符和一个用来标记字符串结尾的空字符。

- 空字符

  空字符是一个所有位都为0的字节，用转义序列\0来表示。空字符与零字符是不同的，空字符的码值为0，而零字符串在ASCII码中是48。



字符串字面量的操作

- 字符串字面量赋值时，是把第一个字符的地址作为值进行赋值。

  ```c
  char *pa = "hello world";
  ```

- 下标引用，C语言允许对指针取下标，因此可以对字符串字面量取下标。

  ```c
  function digit_to_hex_char(int digit) {
      return "0123456789abcdef"[digit];
  }
  ```



## 字符串变量

### 声明

C语言默认字符串是以空字符\0结尾的，任何一维字符数组都可以用于存储字符串。

在声明一个存放字符串的字符数组时，要保证数组长度比字符串长度多一个字符，这是因为C语言规定每个字符串都是以空字符结尾。如何没有空字符串，程序运行时会出现难以预料的结果。

- 字符串的长度

  字符串是以空字符结尾的，所以字符串的长度取决于空字符的位置。



### 初始化

声明时初始化

```c
char date1[] = "June";
char date2[] = {'J', 'u', 'n', 'e', '\0'};	//数组初始化式
```

编译器会把字符串"June"中的字符一个个复制到数组中，然后追加一个空字符。"June"在这里不是字符串字面量，而是被编译器看成是数组初始化式的缩写形式。

如果不指明字符数组的长度，编译器会自动计算长度。

```c
char conte[10] = "abc";
```

对于不满足字符数组长度的字符串，编译器会默认将剩下的数组元素初始化为空字符\0。





```c
#include <string.h>
char *strcpy(char *dest, const char *src);
```


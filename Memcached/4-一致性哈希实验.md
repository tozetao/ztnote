## 实验课

### 1. 实验目的
测试Memcached缓存服务器在N台变为N-1台的时候，取模分布算法与一致性哈希算法对缓存命中率的影响。

### 2. 实验步骤
- 建立5个memcached节点，令数据有效期为永久有效，用取模分布式算法建立缓存，缓存稳定后观察命中率
- 命中率稳定后减少一个节点，再观察命中率，直到命中率再次稳定
- 分别使用俩种算法按照上述步骤进行测试

注意：节点down之前，将缓存设置为永久有效，是为了防止缓存失效对命中率产生干扰，因为实验目的是为了比较节点down的前后命中率变化。

### 3. 实验代码
详见笔记

### 实验总结
1. 取模分布式算法简单快速，但是在Memcached节点增加或删除的时候，原有缓存会大规模失效，因为缓存的命中率受到影响。如果节点越多，缓存数据多，重建缓存的代码就越高。

2. 一致性算法能最大限度减小服务器增减节点时的缓存重新分布。

3. 从数据角度来说，当memcached节点减少的时候，取模分布式算法的缓存命中率降到1/n（n是服务器节点数量），
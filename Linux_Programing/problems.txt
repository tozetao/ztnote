待学习的概念：非阻塞I/O与文件空洞。




问题：
O_APPEND的原子性测试
多线程的原子性操作测试。



测试0：

改变文件偏移量和文件状态标记，测试z者之间的互相影响。





测试1：

共享文件偏移量会确保二者不会覆盖彼此之间的输出内容，但是父子进程的输出会随意混杂在一起。



要规避这一现象需要进行进程间的同步，例如父进程使用wait()来暂停运行并等待子进程输出，当子进程结束输出时父进程再执行。

shell便是这样处理的，只有当执行命令的子进程退出后，shell才会打印出提示符（除非用户在命令行加上&显示在后台执行命令）。


